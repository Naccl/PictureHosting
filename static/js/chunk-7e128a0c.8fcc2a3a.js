(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e128a0c"],{"0ae2":function(t,e,n){"use strict";n("74ce")},"4ef5":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-input",{staticStyle:{"min-width":"500px"},attrs:{placeholder:"请输入token进行初始化",clearable:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchUser(e)}},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchUser},slot:"append"},[t._v("查询")])],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("span",{staticClass:"middle"},[t._v("当前用户：")]),n("el-avatar",{attrs:{size:50,src:t.userInfo.avatar_url}},[t._v("User")]),n("span",{staticClass:"middle"},[t._v(t._s(t.userInfo.login))])],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-check"},on:{click:function(e){return t.saveUser(!0)}}},[t._v("保存配置")]),n("el-button",{attrs:{type:"info",size:"medium",icon:"el-icon-close"},on:{click:function(e){return t.saveUser(!1)}}},[t._v("清除配置")])],1)],1)],1)},o=[],c=(n("e9c4"),n("c9f7")),s={name:"Setting",data:function(){return{token:"",userInfo:{login:"未配置"}}},created:function(){this.token=localStorage.getItem("githubToken");var t=localStorage.getItem("githubUserInfo");this.userInfo=t?JSON.parse(t):{login:"未配置"}},methods:{searchUser:function(){var t=this;Object(c["c"])(this.token).then((function(e){t.userInfo=e}))},saveUser:function(t){t?(localStorage.setItem("githubToken",this.token),localStorage.setItem("githubUserInfo",JSON.stringify(this.userInfo)),this.msgSuccess("保存成功")):(localStorage.removeItem("githubToken"),localStorage.removeItem("githubUserInfo"),this.msgSuccess("清除成功"))}}},a=s,u=(n("0ae2"),n("2877")),i=Object(u["a"])(a,r,o,!1,null,null,null);e["default"]=i.exports},"74ce":function(t,e,n){},c9f7:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"e",(function(){return i}));n("99af"),n("ac1f"),n("00b4"),n("d3b7");var r=axios.create({baseURL:"https://api.github.com",timeout:1e4});r.interceptors.request.use((function(t){NProgress.start(),/get/i.test(t.method)&&(t.params=t.params||{},t.params.t=(new Date).getTime());var e=localStorage.getItem("githubToken");return e&&(t.headers.Authorization="token ".concat(e)),t}),(function(t){return console.info(t),Promise.reject(t)})),r.interceptors.response.use((function(t){NProgress.done();var e=t.data;return e}),(function(t){return console.info(t),Message.error(t.message),Promise.reject(t)}));var o=r;function c(t){return o({url:"/user",method:"GET",headers:{Authorization:"token ".concat(t)}})}function s(t){return o({url:"/users/".concat(t,"/repos"),method:"GET"})}function a(t,e,n){return o({url:"/repos/".concat(t,"/").concat(e,"/contents").concat(n),method:"GET"})}function u(t,e,n,r){return o({url:"/repos/".concat(t,"/").concat(e,"/contents/").concat(n),method:"DELETE",data:r})}function i(t,e,n,r,c){return o({url:"/repos/".concat(t,"/").concat(e,"/contents").concat(n,"/").concat(r),method:"PUT",data:c})}},e9c4:function(t,e,n){var r=n("23e7"),o=n("d066"),c=n("d039"),s=o("JSON","stringify"),a=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,i=/^[\uDC00-\uDFFF]$/,l=function(t,e,n){var r=n.charAt(e-1),o=n.charAt(e+1);return u.test(t)&&!i.test(o)||i.test(t)&&!u.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},f=c((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&r({target:"JSON",stat:!0,forced:f},{stringify:function(t,e,n){var r=s.apply(null,arguments);return"string"==typeof r?r.replace(a,l):r}})}}]);